<!DOCTYPE html><html><head lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,minimal-ui"><meta name="theme-color" content="#ffffff"><title>Adding resource - Trikoder UI CMF</title><link rel="stylesheet" href="https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/css/docsBuild.min.css"></head><body><header class="attireHeader"><h1 class="title">Trikoder UI CMF</h1><div class="attireSearch iconSearch"><input placeholder="Search documentation" type="text"></div></header><nav class="attireNav navType1"><button type="button" class="toggleBtn nBtn iconMenu">Toggle navigation</button><div class="panel"><div class="content"><a class="docLink" data-pointer="about#about" href="about#about">About</a><ul><li><a class="docLink" data-pointer="about#motivation" href="about#motivation">Motivation</a></li><li><a class="docLink" data-pointer="about#technology-and-tooling" href="about#technology-and-tooling">Technology and tooling</a></li><li><a class="docLink" data-pointer="about#code-sneek-peek" href="about#code-sneek-peek">Code sneek peek</a></li><li><a class="docLink" data-pointer="about#demo-application" href="about#demo-application">Demo application</a></li></ul><a class="docLink" data-pointer="getting-started#getting-started" href="getting-started#getting-started">Getting started</a><ul><li><a class="docLink" data-pointer="getting-started#technology" href="getting-started#technology">Technology</a></li><li><a class="docLink" data-pointer="getting-started#scaffolding" href="getting-started#scaffolding">Scaffolding</a></li><li><a class="docLink" data-pointer="getting-started#file-and-folder-structure" href="getting-started#file-and-folder-structure">File and folder structure</a></li><li><a class="docLink" data-pointer="getting-started#package-json" href="getting-started#package-json">Package.json</a></li><li><a class="docLink" data-pointer="getting-started#webpack-eslint" href="getting-started#webpack-eslint">Webpack, Eslint</a></li><li><a class="docLink" data-pointer="getting-started#html-entry-point" href="getting-started#html-entry-point">HTML entry point</a></li><li><a class="docLink" data-pointer="getting-started#scss-setup" href="getting-started#scss-setup">SCSS setup</a></li><li><a class="docLink" data-pointer="getting-started#javascript-setup" href="getting-started#javascript-setup">Javascript setup</a></li><li><a class="docLink" data-pointer="getting-started#build-scripts" href="getting-started#build-scripts">Build scripts</a></li></ul><a class="docLink" data-pointer="core-concepts-and-api#core-concepts-and-api" href="core-concepts-and-api#core-concepts-and-api">Core concepts and api</a><ul><li><a class="docLink" data-pointer="core-concepts-and-api#resource-controller" href="core-concepts-and-api#resource-controller">Resource controller</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#resource-list" href="core-concepts-and-api#resource-list">Resource list</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#resource-edit" href="core-concepts-and-api#resource-edit">Resource edit</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#services" href="core-concepts-and-api#services">Services</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#router" href="core-concepts-and-api#router">Router</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#navigation" href="core-concepts-and-api#navigation">Navigation</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#application" href="core-concepts-and-api#application">Application</a></li></ul><a class="docLink" data-pointer="adding-resource#adding-resource" href="adding-resource#adding-resource">Adding resource</a><ul><li><a class="docLink" data-pointer="adding-resource#examine-resource-api" href="adding-resource#examine-resource-api">Examine resource api</a></li><li><a class="docLink" data-pointer="adding-resource#create-resource-controller" href="adding-resource#create-resource-controller">Create resource controller</a></li><li><a class="docLink" data-pointer="adding-resource#add-resource-route" href="adding-resource#add-resource-route">Add resource route</a></li><li><a class="docLink" data-pointer="adding-resource#add-navigation-item" href="adding-resource#add-navigation-item">Add navigation item</a></li><li><a class="docLink" data-pointer="adding-resource#register-controller-as-service" href="adding-resource#register-controller-as-service">Register controller as service</a></li></ul><a class="docLink" data-pointer="list-elements#list-elements" href="list-elements#list-elements">List elements</a><ul><li><a class="docLink" data-pointer="list-elements#shared-options" href="list-elements#shared-options">Shared options</a></li><li><a class="docLink" data-pointer="list-elements#text" href="list-elements#text">Text</a></li><li><a class="docLink" data-pointer="list-elements#link" href="list-elements#link">Link</a></li><li><a class="docLink" data-pointer="list-elements#date-time" href="list-elements#date-time">Date time</a></li><li><a class="docLink" data-pointer="list-elements#date" href="list-elements#date">Date</a></li><li><a class="docLink" data-pointer="list-elements#blip" href="list-elements#blip">Blip</a></li><li><a class="docLink" data-pointer="list-elements#button" href="list-elements#button">Button</a></li><li><a class="docLink" data-pointer="list-elements#context-menu" href="list-elements#context-menu">Context menu</a></li><li><a class="docLink" data-pointer="list-elements#media" href="list-elements#media">Media</a></li></ul><a class="docLink" data-pointer="form-elements#form-elements" href="form-elements#form-elements">Form elements</a><ul><li><a class="docLink" data-pointer="form-elements#shared-options" href="form-elements#shared-options">Shared options</a></li><li><a class="docLink" data-pointer="form-elements#common-methods" href="form-elements#common-methods">Common methods</a></li><li><a class="docLink" data-pointer="form-elements#text-input" href="form-elements#text-input">Text input</a></li><li><a class="docLink" data-pointer="form-elements#hidden-input" href="form-elements#hidden-input">Hidden input</a></li><li><a class="docLink" data-pointer="form-elements#textarea-input" href="form-elements#textarea-input">Textarea input</a></li><li><a class="docLink" data-pointer="form-elements#checkbox-input" href="form-elements#checkbox-input">Checkbox input</a></li><li><a class="docLink" data-pointer="form-elements#date-input" href="form-elements#date-input">Date input</a></li><li><a class="docLink" data-pointer="form-elements#date-time-input" href="form-elements#date-time-input">Date time input</a></li><li><a class="docLink" data-pointer="form-elements#html" href="form-elements#html">Html</a></li><li><a class="docLink" data-pointer="form-elements#map" href="form-elements#map">Map</a></li><li><a class="docLink" data-pointer="form-elements#select" href="form-elements#select">Select</a></li><li><a class="docLink" data-pointer="form-elements#multiple-select" href="form-elements#multiple-select">Multiple select</a></li><li><a class="docLink" data-pointer="form-elements#nested-select" href="form-elements#nested-select">Nested select</a></li><li><a class="docLink" data-pointer="form-elements#state-select" href="form-elements#state-select">State select</a></li><li><a class="docLink" data-pointer="form-elements#external-admin" href="form-elements#external-admin">External admin</a></li><li><a class="docLink" data-pointer="form-elements#included-admin" href="form-elements#included-admin">Included admin</a></li><li><a class="docLink" data-pointer="form-elements#media-preview" href="form-elements#media-preview">Media preview</a></li><li><a class="docLink" data-pointer="form-elements#media" href="form-elements#media">Media</a></li></ul><a class="docLink" data-pointer="base-controllers#base-controllers" href="base-controllers#base-controllers">Base controllers</a><ul><li><a class="docLink" data-pointer="base-controllers#resource-controller" href="base-controllers#resource-controller">Resource controller</a></li><li><a class="docLink" data-pointer="base-controllers#resource-edit-controller" href="base-controllers#resource-edit-controller">Resource edit controller</a></li><li><a class="docLink" data-pointer="base-controllers#nested-resource-controller" href="base-controllers#nested-resource-controller">Nested resource controller</a></li><li><a class="docLink" data-pointer="base-controllers#media-resource-controller" href="base-controllers#media-resource-controller">Media resource controller</a></li></ul></div></div></nav><article data-slug="adding-resource" class="attireArticle"><section id="section-adding-resource" class="attireBlock"><div class="inner"><h1 id="adding-resource" class="attireTitleType1">Adding resource</h1><p class="attireTextType2">We will examine typical scenario where new resource is ready on backend api and admin user interface has to be created. Steps needed to complete UI for this new resource:</p><ul class="attireListType1"><li>examine resource api</li><li>create resource controller</li><li>add resource route</li><li>add navigation link</li><li>register controller as service</li></ul><p class="attireTextType2">For simple resources this can be completed in less then 5 minutes.</p></div></section><section id="section-examine-resource-api" class="attireBlock"><div class="inner"><h2 id="examine-resource-api" class="attireTitleType2">Examine resource api</h2><p class="attireTextType2">Make sure that resource backend api is ready to handle get, post, and put requests. Check that backend properly outputs relation includes, make sure that filtering and validation rules are respected. Examine new resource attributes and relations and decide what list and form elements have to be used.</p><p class="attireTextType2">Everything works? Then lets build resource UI controller.</p></div></section><section id="section-create-resource-controller" class="attireBlock"><div class="inner"><h2 id="create-resource-controller" class="attireTitleType2">Create resource controller</h2><p class="attireTextType2">Lets say new resource in need of UI is "tag" entity. We will need a component to describe how resource is browsed, filtered and sorted in list, what form fields are rendered when resource is created or updated.</p><p class="attireTextType2">For this purpose we will build a tag resource controller in 'js/controllers/tag.js' file:</p><pre class="attireCodeHighlight"><code class="lang-js">import BaseResource from 'js/controllers/baseResource';
import LinkListItem from 'js/listElements/link';
import TextListItem from 'js/listElements/text';
import TextInput from 'js/formElements/text';

export default BaseResource.extend({

    resourceName: 'tag',

    setupList: function(listHandler) {

        this.addCreateControl('Create new tag');

        listHandler.addFilter(TextInput, {
            name: 'title',
            label: 'Title'
        });

        listHandler.addItem(TextListItem, {
            caption: 'ID',
            mapTo: 'id'
        });

        listHandler.addItem(LinkListItem, {
            caption: 'Title',
            mapTo: 'title',
            action: 'editItem'
        });

    },

    setupEdit: function(editHandler, method, id) {

        this.addToIndexControl().addSaveControl();

        editHandler.addField(TextInput, {
            label: 'Title',
            name: 'title'
        });

    }

});
</code></pre><hr class="attireSeparator mod1"><p class="attireTextType2">Read up on how <a href="core-concepts-and-api#resource-controller">resource controllers</a> work, examine how to build <a href="list-elements">resource list</a> and <a href="form-elements">form elements</a>.</p></div></section><section id="section-add-resource-route" class="attireBlock"><div class="inner"><h2 id="add-resource-route" class="attireTitleType2">Add resource route</h2><p class="attireTextType2">Open your routes file (js/routes.js) and add new resource route:</p><pre class="attireCodeHighlight"><code class="lang-js">...
router.resource('tag');
...
</code></pre><p class="attireTextType2">Browse <a href="core-concepts-and-api#router">router docs</a> to learn more.</p></div></section><section id="section-add-navigation-item" class="attireBlock"><div class="inner"><h2 id="add-navigation-item" class="attireTitleType2">Add navigation item</h2><p class="attireTextType2">Open your main navigation component (js/mainNavigation.js) and add new navigation item:</p><pre class="attireCodeHighlight"><code class="lang-js">getNavigationItems: router =&gt; {
    return [
        {name: 'Pages', alias: 'page', url: router.url('resource.page.index'), iconClass: 'Home'},
        {name: 'Misc', iconClass: 'ThreeDots', subItems: [
            {name: 'Categories', alias: 'category', url: router.url('resource.category.index')},
            // one bellow we just added
            {name: 'Tags', alias: 'tag', url: router.url('resource.tag.index')}
        ]}
    ];
},
</code></pre><p class="attireTextType2">Read more about <a href="core-concepts-and-api#navigation">main navigation</a> if you want to learn more.</p></div></section><section id="section-register-controller-as-service" class="attireBlock"><div class="inner"><h2 id="register-controller-as-service" class="attireTitleType2">Register controller as service</h2><p class="attireTextType2">Open up your services file (js/services.js) and add new tag resource controller to registry. Using webpacks require.ensure we load our new controller code and its dependencies only when controller is actually opened.</p><pre class="attireCodeHighlight"><code class="lang-js">...
TagController: function(callback) {
    import('js/controllers/tag').then(controller =&gt; {
        callback(controller.default);
    });
},
...
</code></pre><p class="attireTextType2">Done! Read up on <a href="core-concepts-and-api#services">services</a> if you want to learn more.</p></div></section></article><footer class="attireFooter"><p>This page is built with <a href="http://dbrekalo.github.io/attire/">Attire</a>.</p></footer><a class="githubRibbon" href="https://github.com/trikoder/trim"><img src="https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/images/githubRibbon.png" alt="Fork me on GitHub"></a><script src="https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/js/docsBuild.min.js"></script></body></html>