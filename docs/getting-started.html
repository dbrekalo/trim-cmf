<!DOCTYPE html><html><head lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,minimal-ui"><meta name="theme-color" content="#ffffff"><title>Getting started - Trikoder UI CMF</title><link rel="stylesheet" href="https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/css/docsBuild.min.css"></head><body><header class="attireHeader"><h1 class="title">Trikoder UI CMF</h1><div class="attireSearch iconSearch"><input placeholder="Search documentation" type="text"></div></header><nav class="attireNav navType1"><button type="button" class="toggleBtn nBtn iconMenu">Toggle navigation</button><div class="panel"><div class="content"><a class="docLink" data-pointer="about#about" href="about#about">About</a><ul><li><a class="docLink" data-pointer="about#motivation" href="about#motivation">Motivation</a></li><li><a class="docLink" data-pointer="about#technology-and-tooling" href="about#technology-and-tooling">Technology and tooling</a></li><li><a class="docLink" data-pointer="about#code-sneek-peek" href="about#code-sneek-peek">Code sneek peek</a></li><li><a class="docLink" data-pointer="about#demo-application" href="about#demo-application">Demo application</a></li></ul><a class="docLink" data-pointer="getting-started#getting-started" href="getting-started#getting-started">Getting started</a><ul><li><a class="docLink" data-pointer="getting-started#technology" href="getting-started#technology">Technology</a></li><li><a class="docLink" data-pointer="getting-started#scaffolding" href="getting-started#scaffolding">Scaffolding</a></li><li><a class="docLink" data-pointer="getting-started#file-and-folder-structure" href="getting-started#file-and-folder-structure">File and folder structure</a></li><li><a class="docLink" data-pointer="getting-started#package-json" href="getting-started#package-json">Package.json</a></li><li><a class="docLink" data-pointer="getting-started#webpack-eslint" href="getting-started#webpack-eslint">Webpack, Eslint</a></li><li><a class="docLink" data-pointer="getting-started#html-entry-point" href="getting-started#html-entry-point">HTML entry point</a></li><li><a class="docLink" data-pointer="getting-started#scss-setup" href="getting-started#scss-setup">SCSS setup</a></li><li><a class="docLink" data-pointer="getting-started#javascript-setup" href="getting-started#javascript-setup">Javascript setup</a></li><li><a class="docLink" data-pointer="getting-started#build-scripts" href="getting-started#build-scripts">Build scripts</a></li></ul><a class="docLink" data-pointer="core-concepts-and-api#core-concepts-and-api" href="core-concepts-and-api#core-concepts-and-api">Core concepts and api</a><ul><li><a class="docLink" data-pointer="core-concepts-and-api#resource-controller" href="core-concepts-and-api#resource-controller">Resource controller</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#resource-list" href="core-concepts-and-api#resource-list">Resource list</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#resource-edit" href="core-concepts-and-api#resource-edit">Resource edit</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#services" href="core-concepts-and-api#services">Services</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#router" href="core-concepts-and-api#router">Router</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#navigation" href="core-concepts-and-api#navigation">Navigation</a></li><li><a class="docLink" data-pointer="core-concepts-and-api#application" href="core-concepts-and-api#application">Application</a></li></ul><a class="docLink" data-pointer="adding-resource#adding-resource" href="adding-resource#adding-resource">Adding resource</a><ul><li><a class="docLink" data-pointer="adding-resource#examine-resource-api" href="adding-resource#examine-resource-api">Examine resource api</a></li><li><a class="docLink" data-pointer="adding-resource#create-resource-controller" href="adding-resource#create-resource-controller">Create resource controller</a></li><li><a class="docLink" data-pointer="adding-resource#add-resource-route" href="adding-resource#add-resource-route">Add resource route</a></li><li><a class="docLink" data-pointer="adding-resource#add-navigation-item" href="adding-resource#add-navigation-item">Add navigation item</a></li><li><a class="docLink" data-pointer="adding-resource#register-controller-as-service" href="adding-resource#register-controller-as-service">Register controller as service</a></li></ul><a class="docLink" data-pointer="list-elements#list-elements" href="list-elements#list-elements">List elements</a><ul><li><a class="docLink" data-pointer="list-elements#shared-options" href="list-elements#shared-options">Shared options</a></li><li><a class="docLink" data-pointer="list-elements#text" href="list-elements#text">Text</a></li><li><a class="docLink" data-pointer="list-elements#link" href="list-elements#link">Link</a></li><li><a class="docLink" data-pointer="list-elements#date-time" href="list-elements#date-time">Date time</a></li><li><a class="docLink" data-pointer="list-elements#date" href="list-elements#date">Date</a></li><li><a class="docLink" data-pointer="list-elements#blip" href="list-elements#blip">Blip</a></li><li><a class="docLink" data-pointer="list-elements#button" href="list-elements#button">Button</a></li><li><a class="docLink" data-pointer="list-elements#context-menu" href="list-elements#context-menu">Context menu</a></li><li><a class="docLink" data-pointer="list-elements#media" href="list-elements#media">Media</a></li></ul><a class="docLink" data-pointer="form-elements#form-elements" href="form-elements#form-elements">Form elements</a><ul><li><a class="docLink" data-pointer="form-elements#shared-options" href="form-elements#shared-options">Shared options</a></li><li><a class="docLink" data-pointer="form-elements#common-methods" href="form-elements#common-methods">Common methods</a></li><li><a class="docLink" data-pointer="form-elements#text-input" href="form-elements#text-input">Text input</a></li><li><a class="docLink" data-pointer="form-elements#hidden-input" href="form-elements#hidden-input">Hidden input</a></li><li><a class="docLink" data-pointer="form-elements#textarea-input" href="form-elements#textarea-input">Textarea input</a></li><li><a class="docLink" data-pointer="form-elements#checkbox-input" href="form-elements#checkbox-input">Checkbox input</a></li><li><a class="docLink" data-pointer="form-elements#date-input" href="form-elements#date-input">Date input</a></li><li><a class="docLink" data-pointer="form-elements#date-time-input" href="form-elements#date-time-input">Date time input</a></li><li><a class="docLink" data-pointer="form-elements#html" href="form-elements#html">Html</a></li><li><a class="docLink" data-pointer="form-elements#map" href="form-elements#map">Map</a></li><li><a class="docLink" data-pointer="form-elements#select" href="form-elements#select">Select</a></li><li><a class="docLink" data-pointer="form-elements#multiple-select" href="form-elements#multiple-select">Multiple select</a></li><li><a class="docLink" data-pointer="form-elements#nested-select" href="form-elements#nested-select">Nested select</a></li><li><a class="docLink" data-pointer="form-elements#state-select" href="form-elements#state-select">State select</a></li><li><a class="docLink" data-pointer="form-elements#external-admin" href="form-elements#external-admin">External admin</a></li><li><a class="docLink" data-pointer="form-elements#included-admin" href="form-elements#included-admin">Included admin</a></li><li><a class="docLink" data-pointer="form-elements#media-preview" href="form-elements#media-preview">Media preview</a></li><li><a class="docLink" data-pointer="form-elements#media" href="form-elements#media">Media</a></li></ul><a class="docLink" data-pointer="base-controllers#base-controllers" href="base-controllers#base-controllers">Base controllers</a><ul><li><a class="docLink" data-pointer="base-controllers#resource-controller" href="base-controllers#resource-controller">Resource controller</a></li><li><a class="docLink" data-pointer="base-controllers#resource-edit-controller" href="base-controllers#resource-edit-controller">Resource edit controller</a></li><li><a class="docLink" data-pointer="base-controllers#nested-resource-controller" href="base-controllers#nested-resource-controller">Nested resource controller</a></li><li><a class="docLink" data-pointer="base-controllers#media-resource-controller" href="base-controllers#media-resource-controller">Media resource controller</a></li></ul></div></div></nav><article data-slug="getting-started" class="attireArticle"><section id="section-getting-started" class="attireBlock"><div class="inner"><h1 id="getting-started" class="attireTitleType1">Getting started</h1><p class="attireTextType2">Before digging into UI code make sure you have a basic understanding of core json api concepts (how relations, attributes, getting, creating and updating resources work). A functional backend api compliant with json api standard is prerequisite for building UI. Browse <a href="http://jsonapi.org/">json:api webpage</a> and <a href="http://jsonapi.org/examples/">examples</a> to familiarize yourself with standard.</p><p class="attireTextType2">Everything explained in this chapter has concrete implementation details in demo application codebase. Feel free to <a href="../demo-app">browse demo codebase</a> and take what you need.</p></div></section><section id="section-technology" class="attireBlock"><div class="inner"><h2 id="technology" class="attireTitleType2">Technology</h2><p class="attireTextType2">Make sure you have Node.js (4.x and up) and NPM installed. All packages are installed locally - if you plan to run build, test and watch processes via npm commands there is no need to install any package globally.</p></div></section><section id="section-scaffolding" class="attireBlock"><div class="inner"><h2 id="scaffolding" class="attireTitleType2">Scaffolding</h2><p class="attireTextType2">If you rather wish to use scaffolding tool to bootstrap your application, then follow these simple steps, and after scaffolding process is done just skip to "Build scripts" chapter.</p><p class="attireTextType2">Scaffolding is done with <a href="http://yeoman.io/">Yeoman</a> tool.</p><ol class="attireListType1"><li>install yeoman globally</li><li>install yeoman generator for trikoder CMF UI globally</li><li>run "yo" in terminal in desired application folder and select "Trikoder Cmf Ui" generator</li><li>run "npm install" in terminal to install all NPM project dependancies</li></ol><pre class="attireCodeHighlight"><code class="lang-sh">npm install -g yo
npm install -g git+ssh://git@gitlab.trikoder.net:frontend/generator-trikoder-cmf-ui.git
yo
npm install
</code></pre><hr class="attireSeparator mod1"><h3 id="your-project-name" class="attireTitleType3">Your project name</h3><p class="attireTextType2">Enter your project name, default is folder name. This info will be used as html entry point title meta tag, package.json title and JS app project caption.</p><hr class="attireSeparator mod1"><h3 id="your-project-description" class="attireTitleType3">Your project description</h3><p class="attireTextType2">Enter your project name, default is folder name + "content managment framework". This info is usede as description meta data in html entry point and package.json description.</p><hr class="attireSeparator mod1"><h3 id="please-enter-relative-path-for-folder-where-application-will-store-distribution-files" class="attireTitleType3">Please enter relative path for folder where application will store distribution files</h3><p class="attireTextType2">Define relative path (without trailing slash) from CMF application root to distribution folder.</p><hr class="attireSeparator mod1"><h3 id="please-enter-absolute-path-for-base-url" class="attireTitleType3">Please enter absolute path for base url</h3><p class="attireTextType2">Define public absolute path (without trailing slash) which points to CMF application root.</p><hr class="attireSeparator mod1"><h3 id="please-enter-absolute-path-for-distribution-folder" class="attireTitleType3">Please enter absolute path for distribution folder</h3><p class="attireTextType2">Define public absolute path (without trailing slash) which points to distribution folder.</p><hr class="attireSeparator mod1"><h3 id="enter-google-map-api-key" class="attireTitleType3">Enter google map API key</h3><p class="attireTextType2">Enter google map API key for your application. This is only needed if you will be using components with google map. Feel free to leave it empty.</p><hr class="attireSeparator mod1"><h3 id="choose-desired-language" class="attireTitleType3">Choose desired language</h3><p class="attireTextType2">Choose between english or croatian for your app language. This will automaticly include selected translation file.</p><hr class="attireSeparator mod1"><h3 id="would-you-like-to-use-history-api-push-state" class="attireTitleType3">Would you like to use History API push state</h3><p class="attireTextType2">Aplication can define url structure with hash-es or use history API to rewrite url-s (hash is fallback). Default is History API.</p><hr class="attireSeparator mod1"><h3 id="would-you-like-to-use-faux-backend-api-mockup" class="attireTitleType3">Would you like to use faux backend API mockup</h3><p class="attireTextType2">Here you can choose if you wish to use faux backend API server (based on pretender.js) to mock responses for your API calls. If you have existing backend API dont choose this.</p><hr class="attireSeparator mod1"><h3 id="would-you-like-to-register-api-entity-resource" class="attireTitleType3">Would you like to register API entity resource</h3><p class="attireTextType2">Here you can choose if you wish to register data entities (eg. article, tags, user...) and create according list, edit and create views.</p><hr class="attireSeparator mod1"><h3 id="enter-entity-resource-name" class="attireTitleType3">Enter entity resource name</h3><p class="attireTextType2">Enter resource entity name that coresponds to backend API resource entity name.</p><hr class="attireSeparator mod1"><h3 id="enter-one-entity-attribute" class="attireTitleType3">Enter one entity attribute</h3><p class="attireTextType2">Enter one resource model attribute so we can create filter, sort and list on list view and input on edit and create view.</p><hr class="attireSeparator mod1"><h3 id="would-you-like-to-register-additional-api-entity-resource-" class="attireTitleType3">Would you like to register additional API entity resource?</h3><p class="attireTextType2">If answered yes, you will repeat last two steps and add additional resource entity.</p></div></section><section id="section-file-and-folder-structure" class="attireBlock"><div class="inner"><h2 id="file-and-folder-structure" class="attireTitleType2">File and folder structure</h2><p class="attireTextType2">Start by creating "src" folder with "js" and "scss" folder inside.</p><pre class="attireCodeHighlight"><code class="lang-html">- myCmsProject
    - src
        - js
        - scss
</code></pre><p class="attireTextType2">Once you complete this getting started section your folder structure should look like this:</p><pre class="attireCodeHighlight"><code class="lang-html">- myCmsProject
    - src
        - js
            - controllers
                - tag.js
            - main.js
            - mainNavigation.js
            - routes.js
            - services.js
        - scss
            - app.scss
    - index.html
    - Gruntfile.js
    - package.json
    - webpack.config.js
</code></pre></div></section><section id="section-package-json" class="attireBlock"><div class="inner"><h2 id="package-json" class="attireTitleType2">Package.json</h2><p class="attireTextType2">Create Package.json file like one displayed bellow in your project root. Adjust your project name and description. Dependency on trikoder-cmf-ui module is defined via git repo and tag pointer.</p><pre class="attireCodeHighlight"><code class="lang-js">{
  "name": "my-cms",
  "version": "0.0.0",
  "description": "my-cms",
  "private": true,
  "scripts": {
    "watch:development": "npm run build:development &amp;&amp; webpack --watch --progress --colors --env.mode=development",
    "build:development": "webpack --env.mode=development --progress --colors",
    "build:production": "webpack --env.mode=production --progress --colors"
  },
  "devDependencies": {
    "babel-core": "^6.26.0",
    "babel-eslint": "^7.2.3",
    "babel-loader": "^7.1.2",
    "babel-plugin-syntax-dynamic-import": "^6.18.0",
    "babel-preset-es2015": "^6.24.1",
    "bourbon": "~4",
    "copy-webpack-plugin": "^4.0.1",
    "css-loader": "^0.28.2",
    "dotenv": "^4.0.0",
    "eslint": "^4.4.1",
    "eslint-loader": "^1.9.0",
    "file-loader": "^0.11.2",
    "html-webpack-plugin": "^2.30.1",
    "node-sass": "^4.5.0",
    "nunjucks": "^3.0.0",
    "nunjucks-loader": "^2.4.5",
    "pretender": "~1.4.2",
    "sass-loader": "^6.0.2",
    "style-loader": "^0.18.2",
    "type-factory": "^1.0.5",
    "url-loader": "^0.5.9",
    "webpack": "^3.5.5"
  },
  "dependencies": {
    "trikoder-cmf-ui": "git+ssh://git@gitlab.trikoder.net:frontend/trikoder-cmf-ui.git#0.5.0"
  }
}
</code></pre></div></section><section id="section-webpack-eslint" class="attireBlock"><div class="inner"><h2 id="webpack-eslint" class="attireTitleType2">Webpack, Eslint</h2><ul class="attireListType1"><li>Webpack is module bundler we use for compiling and code-splitting js bundles. Copy <a href="../demo-app/webpack.config.js">example webpack config</a> and use it as starting point for your project.</li><li>Eslint is linting utility we recommend you use while developing. Copy and adjust <a href="../demo-app/.eslintrc.js">.eslintrc.js</a> as you see fit.</li></ul></div></section><section id="section-html-entry-point" class="attireBlock"><div class="inner"><h2 id="html-entry-point" class="attireTitleType2">HTML entry point</h2><p class="attireTextType2">Create index.html file like one displayed bellow in root of your project. Make sure that paths to your css and js resources are correct.</p><pre class="attireCodeHighlight"><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head lang="en"&gt;

    &lt;meta charset="utf-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt;

    &lt;title&gt;My cms project&lt;/title&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui"/&gt;
    &lt;meta name="theme-color" content="#ffffff"&gt;

    &lt;link href='dist/css/main.css' rel='stylesheet' type='text/css'&gt;

&lt;/head&gt;
&lt;body&gt;

&lt;script async src="dist/js/main.js"&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre></div></section><section id="section-scss-setup" class="attireBlock"><div class="inner"><h2 id="scss-setup" class="attireTitleType2">SCSS setup</h2><p class="attireTextType2">Create "main.scss" file in scss folder and import following files from trikoder-cmf-ui module</p><pre class="attireCodeHighlight"><code class="lang-css">@import 'trikoder-cmf-ui/src/scss/library/all';
/* override default scss variables like main application color
$colorMain1: #008b95;
*/
@import 'trikoder-cmf-ui/src/scss/bundles/main';
</code></pre></div></section><section id="section-javascript-setup" class="attireBlock"><div class="inner"><h2 id="javascript-setup" class="attireTitleType2">Javascript setup</h2><p class="attireTextType2">Lets assume your application has a simple "tag" resource and backend api for this resource is ready. You want to show list of tags that can be filtered by title. Additionally you want to setup create and edit interface with input for setting tag title.</p><hr class="attireSeparator mod1"><h3 id="controller" class="attireTitleType3">Controller</h3><p class="attireTextType2">Lets start by defining a controller file. Copy code bellow to js/controllers/tag.js. Later you can explore in detail <a href="core-concepts-and-api#resource-controller">how resource controllers work</a>.</p><pre class="attireCodeHighlight"><code class="lang-js">import TextListItem from 'js/listElements/text';
import LinkListItem from 'js/listElements/link';
import TextInput from 'js/formElements/text';
import BaseResource from 'js/controllers/baseResource)

export default BaseResource.extend({

    resourceName: 'tag',

    setupList: function(listHandler) {

        this.addCreateControl('Create new tag');

        listHandler.addFilter(TextInput, {
            name: 'title',
            label: 'Title'
        });

        listHandler.addItem(TextListItem, {
            caption: 'ID',
            mapTo: 'id'
        });

        listHandler.addItem(LinkListItem, {
            caption: 'Title',
            mapTo: 'title',
            action: 'editItem'
        });

    },

    setupEdit: function(editHandler, method, id) {

        this.addToIndexControl().addSaveControl();

        editHandler.addField(TextInput, {
            label: 'Title',
            name: 'title'
        });

    }

});
</code></pre><hr class="attireSeparator mod1"><h3 id="routes" class="attireTitleType3">Routes</h3><p class="attireTextType2">We want our controller UI to be available on some url. We will create "js/routes.js" and define routes there. <a href="core-concepts-and-api#router">Router api details</a> are explained in next chapter. For now - copy paste code bellow to our routes.js file.</p><pre class="attireCodeHighlight"><code class="lang-js">export default router =&gt; {

    router.route('', 'dashboard', {uses: 'Tag@index'});
    router.resource('tag');

};
</code></pre><hr class="attireSeparator mod1"><h3 id="navigation" class="attireTitleType3">Navigation</h3><p class="attireTextType2">Our application UI should provide user with a link to tag UI controller. For this purpose we will define a navigation component with "js/mainNavigation.js" file. <a href="core-concepts-and-api#navigation">Navigation in detail</a> is explained in next chapter. For now - copy paste code bellow to our mainNavigation.js file.</p><pre class="attireCodeHighlight"><code class="lang-js">import BaseMainNavigation from 'js/components/baseMainNavigation';

export default BaseMainNavigation.extend({

    getNavigationItems: router =&gt; [
        {name: 'Tags', alias: 'tag', url: router.url('resource.tag.index'), iconClass: 'Home'};
    ],

    getUserNavigationItems: router =&gt; [],

    getProjectCaption: () =&gt; 'My cms project',

    getUserCaption: () =&gt; 'My username'

});
</code></pre><hr class="attireSeparator mod1"><h3 id="services" class="attireTitleType3">Services</h3><p class="attireTextType2">We will register our Navigation and Controller components as services so our application can easily discover and use them. Create "js/services.js" with code bellow. <a href="core-concepts-and-api#services">Services are explained</a> in detail in next chapter.</p><pre class="attireCodeHighlight"><code class="lang-js">export default {
    MainNavigation: function(callback) {
        callback(require('js/mainNavigation').default);
    },
    TagController: function(callback) {
        import('js/controllers/tag').then(controller =&gt; {
            callback(controller.default);
        });
    }
};
</code></pre><hr class="attireSeparator mod1"><h3 id="start-application" class="attireTitleType3">Start application</h3><p class="attireTextType2">Application object is what glues all our components together. Create "js/main.js" file and paste code bellow. <a href="core-concepts-and-api#application">Application object</a> details are explained in next chapter.</p><pre class="attireCodeHighlight"><code class="lang-js">import app from 'js/app';

app.setBootData({
    baseUrl: '/admin/',
    assetsBuildPath: '/dist/'
}).start();
</code></pre></div></section><section id="section-build-scripts" class="attireBlock"><div class="inner"><h2 id="build-scripts" class="attireTitleType2">Build scripts</h2><p class="attireTextType2">Build cms resources in development mode.</p><pre class="attireCodeHighlight"><code class="lang-sh">npm run build:development
</code></pre><p class="attireTextType2">Rebuild cms resources as you develop by running:</p><pre class="attireCodeHighlight"><code class="lang-sh">npm run watch:development
</code></pre><p class="attireTextType2">Prepare cms resources for production use by running:</p><pre class="attireCodeHighlight"><code class="lang-sh">npm run build:production
</code></pre></div></section></article><footer class="attireFooter"><p>This page is built with <a href="http://dbrekalo.github.io/attire/">Attire</a>.</p></footer><a class="githubRibbon" href="https://github.com/trikoder/trim"><img src="https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/images/githubRibbon.png" alt="Fork me on GitHub"></a><script src="https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/js/docsBuild.min.js"></script></body></html>